alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
features:
- buildpack-stack=ubuntu-22
ingress:
  rules:
  - component:
      name: tessellate
    match:
      authority:
        exact: ""
      path:
        prefix: /
name: tessellate-app
region: nyc
services:
- environment_slug: python
  envs:
  - key: OPENROUTER_API_KEY
    scope: RUN_AND_BUILD_TIME
    value: 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
  - key: TESSELLATE_AGENT_MODEL
    scope: RUN_AND_BUILD_TIME
    value: o3
  github:
    branch: main
    deploy_on_push: true
    repo: mcembalest/tessellate
  http_port: 8080
  instance_count: 2
  instance_size_slug: apps-s-1vcpu-1gb
  name: tessellate
  run_command: python -m tessellate.cli.tessellate_textarena_agent_server --model
    $TESSELLATE_AGENT_MODEL --host 0.0.0.0 --port 8080
  source_dir: /
